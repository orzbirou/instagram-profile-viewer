@if (isLoading()) {
  <!-- Loading skeleton -->
  <div class="posts-grid">
    @for (i of [1, 2, 3, 4, 5, 6, 7, 8, 9]; track i) {
      <div class="post-skeleton">
        <div class="skeleton-shimmer"></div>
      </div>
    }
  </div>
} @else {
  <div class="posts-grid">
    @for (post of posts(); track trackById($index, post)) {
      <div class="post-item" [attr.data-post-id]="post.id">
        <!-- Placeholder image -->
        <div class="post-image">
          <svg class="placeholder-icon" viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">
            <rect width="100" height="100" fill="#FAFAFA"/>
            <circle cx="50" cy="40" r="15" fill="#DBDBDB"/>
            <path d="M30 70 L35 60 L45 65 L55 50 L65 55 L70 70 Z" fill="#DBDBDB"/>
          </svg>
        </div>
        
        <!-- Hover overlay -->
        <div class="post-overlay">
          <div class="post-stats">
            <div class="stat">
              <svg class="stat-icon" width="20" height="20" viewBox="0 0 20 20" fill="white" xmlns="http://www.w3.org/2000/svg">
                <path d="M10 17.5L8.875 16.5C4.5 12.6 1.5 9.95 1.5 6.75C1.5 4.1 3.6 2 6.25 2C7.75 2 9.2 2.7 10 3.825C10.8 2.7 12.25 2 13.75 2C16.4 2 18.5 4.1 18.5 6.75C18.5 9.95 15.5 12.6 11.125 16.5L10 17.5Z"/>
              </svg>
              <span class="stat-count">{{ formatCount(post.likesCount) }}</span>
            </div>
            <div class="stat">
              <svg class="stat-icon" width="20" height="20" viewBox="0 0 20 20" fill="white" xmlns="http://www.w3.org/2000/svg">
                <path d="M18 10C18 14.4183 14.4183 18 10 18C8.9 18 7.85 17.8 6.9 17.4L2 18L3.1 14.1C2.4 12.9 2 11.5 2 10C2 5.58172 5.58172 2 10 2C14.4183 2 18 5.58172 18 10Z"/>
              </svg>
              <span class="stat-count">{{ formatCount(post.commentsCount) }}</span>
            </div>
          </div>
        </div>
      </div>
    }
  </div>
}
